<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>PHP学习笔记 | Paul Fang's Blog</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">PHP学习笔记</h1><a id="logo" href="/.">Paul Fang's Blog</a><p class="description">地球很危险，这里最安全</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">PHP学习笔记</h1><div class="post-meta">Aug 29, 2016</div><div class="post-content"><p>新公司的对接的后台用的是PHP，没办法，只能撸撸PHP的<a href="http://www.w3school.com.cn/php/" target="_blank" rel="external">教程</a>了。</p>
<h3 id="PHP简介"><a href="#PHP简介" class="headerlink" title="PHP简介"></a>PHP简介</h3><p>PHP是一种创建动态交互性站点的强有力的服务器端脚本语言。PHP 文件能够包含文本、HTML、CSS 以及 PHP 代码；服务器上执行，结果以纯文本返回浏览器；文件的后缀是 “.php”。</p>
<h3 id="为什么使用-PHP？"><a href="#为什么使用-PHP？" class="headerlink" title="为什么使用 PHP？"></a>为什么使用 PHP？</h3><p>PHP 运行于各种平台（Windows, Linux, Unix, Mac OS X 等等）；PHP 兼容几乎所有服务器（Apache, IIS 等等），PHP 支持多种数据库；PHP 是免费的；PHP 易于学习，并可高效地运行在服务器端。</p>
<h3 id="PHP知识点"><a href="#PHP知识点" class="headerlink" title="PHP知识点"></a>PHP知识点</h3><p>这里我用JavaScript做对比学习，有些知识点我个人认为不用记就没有列举。  </p>
<p>PHP 脚本以 &lt;?php 开头，以 ?&gt; 结尾：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="comment">// 此处是 PHP 代码</span></div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>PHP 支持三种注释：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;body&gt;</div><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="comment">// 这是单行注释</span></div><div class="line"><span class="comment"># 这也是单行注释</span></div><div class="line"><span class="comment">/*</span></div><div class="line">这是多行注释块</div><div class="line">它横跨了</div><div class="line">多行</div><div class="line">*/</div><div class="line"><span class="meta">?&gt;</span></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<p>在 PHP 中，所有用户定义的函数、类和关键词（例如 if、else、echo 等等）都对大小写不敏感。<br>不过在 PHP 中，所有变量都对大小写敏感。不过在 PHP 中，所有变量都对大小写敏感。</p>
<p>PHP 变量规则：<br>变量以 $ 符号开头，其后是变量的名称;<br>变量名称必须以字母或下划线开头;<br>变量名称不能以数字开头;<br>变量名称只能包含字母数字字符和下划线( A-z、0-9 以及 _ );<br>变量名称对大小写敏感（$y 与 $Y 是两个不同的变量）</p>
<p>函数之外声明的变量拥有 Global 作用域，只能在函数以外进行访问。<br>函数内部声明的变量拥有 LOCAL 作用域，只能在函数内部进行访问。<br>global 关键词用于访问函数内的全局变量。<br>$GLOBALS[index] 的数组中存储了所有的全局变量<br>当函数完成/执行后，会删除所有变量,不删除某个局部变量,声明变量时使用 static 关键词</p>
<p>strlen() 函数返回字符串的长度，以字符计。<br>strpos() 函数用于检索字符串内指定的字符或文本。如果找到匹配，则会返回首个匹配的字符位置。如果未找到匹配，则将返回 FALSE。</p>
<p>设置 PHP 常量<br>如需设置常量，请使用 define() 函数 - 它使用三个参数：<br>首个参数定义常量的名称<br>第二个参数定义常量的值<br>可选的第三个参数规定常量名是否对大小写敏感。默认是 false。</p>
<p>.串接    $txt1 = “Hello” $txt2 = $txt1 . “ world!” 结果：Hello world!</p>
<p>索引数组是带有数字索引的数组<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"SAAB"</span>);</div><div class="line">count() 函数用于返回数组的长度（元素数)</div><div class="line"><span class="keyword">for</span>($x=<span class="number">0</span>;$x&lt;$arrlength;$x++) &#123;</div><div class="line">  <span class="keyword">echo</span> $cars[$x];</div><div class="line">  <span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>关联数组是使用您分配给数组的指定键的数组。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</div><div class="line"><span class="keyword">foreach</span>($age <span class="keyword">as</span> $x=&gt;$x_value) &#123;</div><div class="line">  <span class="keyword">echo</span> <span class="string">"Key="</span> . $x . <span class="string">", Value="</span> . $x_value;</div><div class="line">  <span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>sort() - 以升序对数组排序<br>rsort() - 以降序对数组排序<br>asort() - 根据值，以升序对关联数组进行排序<br>ksort() - 根据键，以升序对关联数组进行排序<br>arsort() - 根据值，以降序对关联数组进行排序<br>krsort() - 根据键，以降序对关联数组进行排序  </p>
<p>超全局变量<br>$GLOBALS — 引用全局作用域中可用的全部变量<br>$_SERVER – 保存关于报头、路径和脚本位置的信息。<br>$_REQUEST 用于收集 HTML 表单提交的数据。<br>$_POST 广泛用于收集提交 method=”post” 的 HTML 表单后的表单数据。$_POST 也常用于传递变量。<br>$_GET 也可用于收集提交 HTML 表单 (method=”get”) 之后的表单数据。  </p>
<p>htmlspecialchars() 函数把特殊字符转换为 HTML 实体。这意味着 &lt; 和 &gt; 之类的 HTML 字符会被替换为 <code>&amp;lt;</code> 和 <code>&amp;gt;</code> 。这样可防止攻击者通过在表单中注入 HTML 或 JavaScript 代码（跨站点脚本攻击）对代码进行利用。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"&lt;?php echo htmlspecialchars($_SERVER["</span>PHP_SELF<span class="string">"]);?&gt;"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>date() 函数的格式参数是必需的，它们规定如何格式化日期或时间。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    date_default_timezone_set(<span class="string">"Asia/Shanghai"</span>);</div><div class="line">    <span class="keyword">echo</span> <span class="string">"今天是 "</span> . date(<span class="string">"Y/m/d"</span>) . <span class="string">"&lt;br&gt;"</span>;</div><div class="line">    <span class="keyword">echo</span> <span class="string">"今天是 "</span> . date(<span class="string">"Y.m.d"</span>) . <span class="string">"&lt;br&gt;"</span>;</div><div class="line">    <span class="keyword">echo</span> <span class="string">"今天是 "</span> . date(<span class="string">"Y-m-d"</span>) . <span class="string">"&lt;br&gt;"</span>;</div><div class="line">    <span class="keyword">echo</span> <span class="string">"今天是 "</span> . date(<span class="string">"l"</span>);</div><div class="line">    <span class="keyword">echo</span> <span class="string">"现在时间是 "</span> . date(<span class="string">"h:i:sa"</span>);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>date() 函数中可选的时间戳参数规定时间戳。如果您未规定时间戳，将使用当前日期和时间（正如上例中那样）。<br>mktime() 函数返回日期的 Unix 时间戳。Unix 时间戳包含 Unix 纪元（1970 年 1 月 1 日 00:00:00 GMT）与指定时间之间的秒数。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    $d=mktime(<span class="number">9</span>, <span class="number">12</span>, <span class="number">31</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">2015</span>);</div><div class="line">    <span class="keyword">echo</span> <span class="string">"创建日期是 "</span> . date(<span class="string">"Y-m-d h:i:sa"</span>, $d);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>通过 include 或 require 语句，可以将 PHP 文件的内容插入另一个 PHP 文件（在服务器执行它之前）。<br>include 和 require 语句是相同的，除了错误处理方面：<br>&emsp;&emsp;require 会生成致命错误（E_COMPILE_ERROR）并停止脚本<br>&emsp;&emsp;include 只生成警告（E_WARNING），并且脚本会继续<br>因此，如果您希望继续执行，并向用户输出结果，即使包含文件已丢失，那么请使用 include。否则，在框架、CMS 或者复杂的 PHP 应用程序编程中，请始终使用 require 向执行流引用关键文件。这有助于提高应用程序的安全性和完整性，在某个关键文件意外丢失的情况下。<br>包含文件省去了大量的工作。这意味着您可以为所有页面创建标准页头、页脚或者菜单文件。然后，在页头需要更新时，您只需更新这个页头包含文件即可。  </p>
<p>setcookie() 函数用于设置 cookie。必须位于 <html> 标签之前<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    setcookie(<span class="string">"user"</span>, <span class="string">"Alex Porter"</span>, time()+<span class="number">3600</span>);</div><div class="line"><span class="meta">?&gt;</span></div><div class="line">&lt;html&gt;</div><div class="line">&lt;body&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></html></p>
<p>$_COOKIE 变量用于取回 cookie 的值<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    <span class="comment">// Print a cookie</span></div><div class="line">    <span class="keyword">echo</span> $_COOKIE[<span class="string">"user"</span>];</div><div class="line">    <span class="comment">// A way to view all cookies</span></div><div class="line">    print_r($_COOKIE);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>isset() 函数来确认是否已设置了 cookie<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">    <span class="meta">&lt;?php</span></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($_COOKIE[<span class="string">"user"</span>]))</div><div class="line">        <span class="keyword">echo</span> <span class="string">"Welcome "</span> . $_COOKIE[<span class="string">"user"</span>] . <span class="string">"!&lt;br /&gt;"</span>;</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="keyword">echo</span> <span class="string">"Welcome guest!&lt;br /&gt;"</span>;</div><div class="line">    <span class="meta">?&gt;</span></div><div class="line">    &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<p>当删除 cookie 时，应当使过期日期变更为过去的时间点。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    <span class="comment">// set the expiration date to one hour ago</span></div><div class="line">    setcookie(<span class="string">"user"</span>, <span class="string">""</span>, time()<span class="number">-3600</span>);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>session_start() 函数必须位于 <html> 标签之前,把用户信息存储到 PHP session 中之前，首先必须启动会话。<br>存储和取回 session 变量的正确方法是使用 PHP $_SESSION 变量：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    session_start();</div><div class="line">    <span class="comment">// store session data</span></div><div class="line">    $_SESSION[<span class="string">'views'</span>]=<span class="number">1</span>;</div><div class="line"><span class="meta">?&gt;</span></div><div class="line">&lt;html&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">    <span class="meta">&lt;?php</span></div><div class="line">        <span class="comment">//retrieve session data</span></div><div class="line">        <span class="keyword">echo</span> <span class="string">"Pageviews="</span>. $_SESSION[<span class="string">'views'</span>];</div><div class="line">    <span class="meta">?&gt;</span></div><div class="line">    &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></html></p>
<p>如果希望删除某些 session 数据，可以使用 unset() 或 session_destroy() 函数。session_destroy() 将重置 session，您将失去所有已存储的 session 数据。<br>unset() 函数用于释放指定的 session 变量：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    <span class="keyword">unset</span>($_SESSION[<span class="string">'views'</span>]);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>您也可以通过 session_destroy() 函数彻底终结 session：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">    session_destroy();</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
</div><div class="tags"></div><div class="post-nav"><a href="/2016/08/31/理解prototype/" class="pre">理解prototype</a><a href="/2016/08/26/我要做个优秀的前端/" class="next">我要做个优秀的前端</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/31/理解prototype/">理解prototype</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/29/PHP学习笔记/">PHP学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/26/我要做个优秀的前端/">我要做个优秀的前端</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/26/javascript设计模式/">JavaScript设计模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/26/Hexo搭建Github静态博客/">Hexo搭建Github静态博客</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Paul Fang's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>